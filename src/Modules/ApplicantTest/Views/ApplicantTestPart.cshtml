<!DOCTYPE html>
<html>
<head>
    <style>
        html, body {
            height: 100%;
            width: 100%;
            padding: 0;
            margin: 0;
        }

        .scoreboard {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #f8f8f8;
            padding: 10px;
            border-top: 1px solid #ddd;
        }

            .scoreboard div {
                margin: 5px 0;
            }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const emailSentField = document.getElementById('EmailSent');
            const messageSentToAsakoSatoshiField = document.getElementById('MessageSentToAsakoSatoshi');
            const messageSentToLilyWangField = document.getElementById('MessageSentToLilyWang');
            const messageSentToMadisonByersField = document.getElementById('MessageSentToMadisonByers');
            const messageSentToDominicGonzalezField = document.getElementById('MessageSentToDominicGonzalez');
            const messageSentToSimoneKhanField = document.getElementById('MessageSentToSimoneKhan');
            const bookmarkClickedField = document.getElementById('BookmarkClicked');
            const formSubmittedField = document.getElementById('FormSubmitted');

            function updateFootsteps(field) {
                field.value = parseInt(field.value) + 1;
                console.log(`Updating field: ${field.name} to value: ${field.value}`);
                updateServer(field.name, field.value);
                updateScoreboard();
            }

            function updateServer(fieldName, value) {
                const xhr = new XMLHttpRequest();
                xhr.open("POST", "/update-endpoint", true);
                xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
                xhr.onreadystatechange = function () {
                    if (xhr.readyState === 4 && xhr.status === 200) {
                        console.log("Server updated successfully.");
                    }
                };
                xhr.send(JSON.stringify({ fieldName: fieldName, value: value }));
            }

            function updateScoreboard() {
                document.getElementById('emailSentScore').innerText = emailSentField.value;
                document.getElementById('messageSentToAsakoSatoshiScore').innerText = messageSentToAsakoSatoshiField.value;
                document.getElementById('messageSentToLilyWangScore').innerText = messageSentToLilyWangField.value;
                document.getElementById('messageSentToMadisonByersScore').innerText = messageSentToMadisonByersField.value;
                document.getElementById('messageSentToDominicGonzalezScore').innerText = messageSentToDominicGonzalezField.value;
                document.getElementById('messageSentToSimoneKhanScore').innerText = messageSentToSimoneKhanField.value;
                document.getElementById('bookmarkClickedScore').innerText = bookmarkClickedField.value;
                document.getElementById('formSubmittedScore').innerText = formSubmittedField.value;
            }

            window.addEventListener('message', (event) => {
                if (event.data && event.data.event === 'emailSent') {
                    console.log('Email sent event captured in the parent document!', event.data.details);
                    updateFootsteps(emailSentField);
                } else if (event.data && event.data.event === 'messageSent') {
                    console.log('Message sent event captured in the parent document!', event.data.details);
                    updateFootsteps(messageSentToAsakoSatoshiField);
                } else if (event.data && event.data.event === 'bookmarkClicked') {
                    console.log('Bookmark clicked event captured in the parent document!', event.data.details);
                    updateFootsteps(bookmarkClickedField);
                } else if (event.data && event.data.event === 'formSubmitted') {
                    console.log('Form submitted event captured in the parent document!', event.data.details);
                    updateFootsteps(formSubmittedField);
                } else {
                    console.log('Unknown event received:', event.data);
                }
            });

            // Initialize scoreboard with initial values
            updateScoreboard();
        });
    </script>
</head>
<body>
    <iframe src="./ApplicantTest/index.html" style="width: 100%; height: 800px;" onload="console.log('iFrame loaded successfully.')" onerror="console.error('Error loading iFrame.');"></iframe>
    <form id="eventForm" method="post" action="/update-endpoint">
        <input type="hidden" id="EmailSent" name="EmailSent" value="0" />
        <input type="hidden" id="MessageSentToAsakoSatoshi" name="MessageSentToAsakoSatoshi" value="0" />
        <input type="hidden" id="MessageSentToLilyWang" name="MessageSentToLilyWang" value="0" />
        <input type="hidden" id="MessageSentToMadisonByers" name="MessageSentToMadisonByers" value="0" />
        <input type="hidden" id="MessageSentToDominicGonzalez" name="MessageSentToDominicGonzalez" value="0" />
        <input type="hidden" id="MessageSentToSimoneKhan" name="MessageSentToSimoneKhan" value="0" />
        <input type="hidden" id="BookmarkClicked" name="BookmarkClicked" value="0" />
        <input type="hidden" id="FormSubmitted" name="FormSubmitted" value="0" />
    </form>
    <div class="scoreboard">
        <h3>Scoreboard</h3>
        <div>Email Sent: <span id="emailSentScore">0</span></div>
        <div>Message Sent to Asako Satoshi: <span id="messageSentToAsakoSatoshiScore">0</span></div>
        <div>Message Sent to Lily Wang: <span id="messageSentToLilyWangScore">0</span></div>
        <div>Message Sent to Madison Byers: <span id="messageSentToMadisonByersScore">0</span></div>
        <div>Message Sent to Dominic Gonzalez: <span id="messageSentToDominicGonzalezScore">0</span></div>
        <div>Message Sent to Simone Khan: <span id="messageSentToSimoneKhanScore">0</span></div>
        <div>Bookmark Clicked: <span id="bookmarkClickedScore">0</span></div>
        <div>Form Submitted: <span id="formSubmittedScore">0</span></div>
    </div>
</body>
</html>




@* <!DOCTYPE html>
<html>
<head>
    <style>
        html, body {
            height: 100%;
            width: 100%;
            padding: 0;
            margin: 0;
        }

        .scoreboard {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #f8f8f8;
            padding: 10px;
            border-top: 1px solid #ddd;
        }

            .scoreboard div {
                margin: 5px 0;
            }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('eventForm');
            const emailSentField = document.getElementById('EmailSent');
            const messageSentField = document.getElementById('MessageSent');
            const bookmarkClickedField = document.getElementById('BookmarkClicked');
            const formSubmittedField = document.getElementById('FormSubmitted');

            function updateFootsteps(field) {
                field.value = parseInt(field.value) + 1;
                form.submit();
                updateScoreboard();
            }

            function updateScoreboard() {
                document.getElementById('emailSentScore').innerText = emailSentField.value;
                document.getElementById('messageSentScore').innerText = messageSentField.value;
                document.getElementById('bookmarkClickedScore').innerText = bookmarkClickedField.value;
                document.getElementById('formSubmittedScore').innerText = formSubmittedField.value;
            }

            document.addEventListener('copy', () => {
                console.log('Copy event from the home page!');
                updateFootsteps(copyField);
            });

            window.addEventListener('message', (event) => {
                if (event.data && event.data.event === 'emailSent') {
                    console.log('Email sent event captured in the parent document!', event.data.details);
                    updateFootsteps(emailSentField);
                } else if (event.data && event.data.event === 'messageSent') {
                    console.log('Message sent event captured in the parent document!', event.data.details);
                    updateFootsteps(messageSentField);
                } else if (event.data && event.data.event === 'bookmarkClicked') {
                    console.log('Bookmark clicked event captured in the parent document!', event.data.details);
                    updateFootsteps(bookmarkClickedField);
                } else if (event.data && event.data.event === 'formSubmitted') {
                    console.log('Form submitted event captured in the parent document!', event.data.details);
                    updateFootsteps(formSubmittedField);
                } else {
                    console.log('Unknown event received:', event.data);
                }
            });

            // scoreboard
            updateScoreboard();
        });
    </script>
</head>
<body>
    <iframe src="./ApplicantTest/index.html" style="width: 100%; height: 800px;" onload="console.log('iFrame loaded successfully.')" onerror="console.error('Error loading iFrame.');"></iframe>
    <form id="eventForm" method="post" action="">
        <input type="hidden" id="EmailSent" name="EmailSent" value="0" />
        <input type="hidden" id="MessageSent" name="MessageSent" value="0" />
        <input type="hidden" id="BookmarkClicked" name="BookmarkClicked" value="0" />
        <input type="hidden" id="FormSubmitted" name="FormSubmitted" value="0" />
    </form>
    <div class="scoreboard">
        <h3>Scoreboard</h3>
        <div>Email Sent: <span id="emailSentScore">0</span></div>
        <div>Message Sent: <span id="messageSentScore">0</span></div>
        <div>Bookmark Clicked: <span id="bookmarkClickedScore">0</span></div>
        <div>Form Submitted: <span id="formSubmittedScore">0</span></div>
    </div>
</body>
</html> *@


@* <!DOCTYPE html>
<html>
<head>
    <style>
        html, body {
            height: 100%;
            width: 100%;
            /*             background-color: green; */
            padding: 0;
            margin: 0;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            var footsteps = [];

            // Add event listener for the main document
            document.addEventListener('copy', () => {
                console.log('Copy event from the home page!');
                footsteps.push({ name: 'copy', date: new Date() });
            });

            // Listen for messages from the iframe
            window.addEventListener('message', (event) => {

                if (event.data && event.data.event === 'emailSent') {
                    console.log('Email sent event captured in the parent document!', event.data.details);
                    footsteps.push({ name: 'emailSent', date: new Date(), details: event.data.details });
                }
                else if (event.data && event.data.event === 'messageSent') {
                    console.log('Message sent event captured in the parent document!', event.data.details);
                    footsteps.push({ name: 'messageSent', date: new Date(), details: event.data.details });
                }
                else if (event.data && event.data.event === 'bookmarkClicked') {
                    console.log('Bookmark clicked event captured in the parent document!', event.data.details);
                    footsteps.push({ name: 'bookmarkClicked', date: new Date(), details: event.data.details });
                }
                else if (event.data && event.data.event === 'formSubmitted') {
                    console.log('RDIForm submitted event captured in the parent document!', event.data.details);
                    footsteps.push({ name: 'formSubmitted', date: new Date(), details: event.data.details });
                }
                else {
                    console.log('Unknown event received:', event.data);
                }
            });
        });
    </script>
</head>
<body>
    <iframe src="./ApplicantTest/index.html" style="width: 100%; height: 800px;" onload="console.log('iFrame loaded successfully.')" onerror="console.error('Error loading iFrame.');"></iframe>
</body>
</html>
 *@





@*   <script src="./ApplicantTest/rdiform.html"></script>
    <script src="./ApplicantTest/salesreport.html"></script> *@













@* @{
    ViewData["Title"] = "React Application";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
</head>
<body>
    <div id="my-react-app"></div>

    <!-- Load React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>

    <!-- Load your React app bundle -->
    <script src="/ApplicantTest/ApplicantTest/_next/static/chunks/pages/_app-bfaee6120c21398e.js" onload="console.log('Loaded _app.js')" onerror="console.error('Error loading _app.js');"></script>
    <script src="/ApplicantTest/ApplicantTest/_next/static/chunks/pages/_error-a40d28c628e70b05.js" onload="console.log('Loaded _error.js')" onerror="console.error('Error loading _error.js');"></script>
    <script src="/ApplicantTest/ApplicantTest/_next/static/chunks/pages/index-13ddc0e1d5ecbe55.js" onload="console.log('Loaded index.js')" onerror="console.error('Error loading index.js');"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const reactAppRoot = document.getElementById('my-react-app');
            console.log('DOMContentLoaded event fired');
            if (reactAppRoot) {
                console.log('Found my-react-app div');
                const root = ReactDOM.createRoot(reactAppRoot);
                console.log('ReactDOM root created');
                try {
                    root.render(React.createElement(window._app)); // Ensure App is defined or imported
                    console.log('App rendered');
                } catch (error) {
                    console.error('Error rendering App:', error);
                }
            } else {
                console.error('my-react-app div not found');
            }
        });
    </script>
</body>
</html>
 *@

@* <!DOCTYPE html>
<html>
<head>
    <style>
        html, body {
            height: 100%;
            width: 100%;
            background-color: green;
            padding: 0;
            margin: 0;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            var footsteps = [];

            // Add event listener for the main document
            document.addEventListener('copy', () => {
                console.log('Copy event from the home page!');
                footsteps.push({ name: 'copy', date: new Date() });
            });

            // Listen for messages from the iframe
            window.addEventListener('message', (event) => {
                if (event.data && event.data.event === 'emailSent') {
                    console.log('Email sent event captured in the parent document!', event.data.details);
                    footsteps.push({ name: 'emailSent', date: new Date(), details: event.data.details });
                }
                else if (event.data && event.data.event === 'messageSent') {
                    console.log('Message sent event captured in the parent document!', event.data.details);
                    footsteps.push({ name: 'messageSent', date: new Date(), details: event.data.details });
                }
                else if (event.data && event.data.event === 'bookmarkClicked') {
                    console.log('Bookmark clicked event captured in the parent document!', event.data.details);
                    footsteps.push({ name: 'bookmarkClicked', date: new Date(), details: event.data.details });
                }
                else if (event.data && event.data.event === 'formSubmitted') {
                    console.log('RDIForm submitted event captured in the parent document!', event.data.details);
                    footsteps.push({ name: 'formSubmitted', date: new Date(), details: event.data.details });
                }
                else {
                    console.log('Unknown event received:', event.data);
                }
            });

            // Function to load HTML content
            function loadContent(url, containerId) {
                console.log('Attempting to load content from URL:', url);
                fetch(url)
                    .then(response => {
                        console.log('Fetch response status:', response.status);
                        return response.text();
                    })
                    .then(data => {
                        console.log('Successfully loaded content:', data);
                        // Create a new DOM parser
                        const parser = new DOMParser();
                        // Parse the text into a document
                        const doc = parser.parseFromString(data, 'text/html');
                        // Get the content within the body tag
                        const bodyContent = doc.body.innerHTML;
                        // Insert the body content into the container
                        document.getElementById(containerId).innerHTML = bodyContent;
                        console.log('Content loaded into container:', containerId);
                    })
                    .catch(error => {
                        console.error('Error loading content:', error);
                    });
            }

            // Load the content from HTML files
            loadContent('./ApplicantTest/index.html', 'content');
        });
    </script>
</head>
<body>
    <div id="content" style="width: 100%; height: 800px;"></div>
</body>
</html> *@